<!DOCTYPE html>
<html lang="en-US" />
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Guess The Output of this Code &middot; </title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="canonical" href="/guess-the-output-of-this-code/" />

     <meta name="description" content="Over the time that I have been working with ServiceNow I have discovered several interesting quirks about the behavior of the code. Some of them kept me wonderi" /> 

     
    
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:image" content="/images/programming.png"/>
    
 
    <meta name="twitter:title" content="Guess The Output of this Code"/>
    <meta name="twitter:description" content="Over the time that I have been working with ServiceNow I have discovered several interesting quirks about the behavior of the code. Some of them kept me wonderi"/>
    <meta name="twitter:url" content="/guess-the-output-of-this-code/" />
    <meta name="twitter:site" content="@jahnelgroup"/>

    <meta property="og:site_name" content="" />
    <meta property="og:title" content="Guess The Output of this Code &middot; Jahnel Group Blog about ServiceNow" />
    <meta property="og:url" content="/guess-the-output-of-this-code/" />
    <meta property="article:publisher" content="https://www.facebook.com/jahnelgroup" />

    <meta property="og:type" content="article" />
    <meta property="og:description" content="Over the time that I have been working with ServiceNow I have discovered several interesting quirks about the behavior of the code. Some of them kept me wonderi" />

    <meta property="article:published_time" content="2018-04-26T13:55:00-04:00" />
    <meta property="article:tag" content="Code" /><meta property="article:tag" content="JavaScript" />

    <meta property="og:image" content="/images/programming.png"/>


    <meta name="generator" content="Hugo 0.40.3" />

    <!-- Stylesheets -->
    <link rel="stylesheet" type="text/css" href="/built/screen.css" /> 
    <link rel="stylesheet" type="text/css" href="/css/casper-two.css" /> 
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" />
    

     

</head>


<body class="ctsingle">

  <div class="site-wrapper"> 

<header class="site-header outer "  style="background-image: url(/images/main-background.jpg)"  >
  <div class="inner">
    <div class="site-header-content">
      <h1 class="site-title">
        <img class="site-logo" src="/images/jg_logo_white.png" alt="Jahnel Group Blog about ServiceNow" />
       </h1>
        <h2 class="site-description">Jahnel Group Blog about ServiceNow </h2>
    </div>

    <nav class="site-nav">
      <div class="site-nav-left"><ul class="nav" role="menu">
        
        
        
            <li class="" role="menuitem">
              <a href="/">Home</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="http://servicenow.jahnelgroup.com/">Our Site</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/categories">Categories</a>
            </li>
        
      </ul></div>

      <div class="site-nav-right">
        <div class="social-links">
                    <a class="social-link social-link-fb" href="https://www.facebook.com/jahnelgroup" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg></a>

                    <a class="social-link social-link-tw" href="https://twitter.com/jahnelgroup" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg></a>

                    <a class="social-link" href="https://github.com/jahnelgroup" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>

                    

                    
        </div>  
            
      </div>

    </nav>  

  </div>
</header>


<main id="site-main" class="site-main outer" role="main">
  <div class="inner">
    
    <div class="post-feed">
      

<article class="post-card post"> 
    
    <a class="post-card-image-link" href="/guess-the-output-of-this-code/">
      <div class="post-card-image" style="background-image: url(/images/programming.png)"></div>
    </a>
    

    <div class="post-card-content">
    <div class="post-card-content-link">
        
        <span class="post-card-tags">
            <a href="/tags/code"> #Code</a>
            <a href="/tags/javascript"> #JavaScript</a> </span>
        
        <a href="/guess-the-output-of-this-code/" style="text-decoration: none; color: rgb(21,23,26)">
            <header class="post-card-header">
                <h2 class="post-card-title">Guess The Output of this Code</h2>
            </header>
        </a>
    </div>
      <section class="post-card-excerpt" style="padding: 0 25px;">
          

<p>Over the time that I have been working with ServiceNow I have discovered several interesting quirks about the behavior of the code. Some of them kept me wondering for a while, others made me giggle. I want to share one of them with you, that I have discovered recently with Dylan, while debugging one of our applications, that left us with one question: Why does it work like that?</p>

<h2 id="let-s-play-the-guessing-game">Let&rsquo;s play the guessing game</h2>

<p>Let&rsquo;s say you are writing a server script, and you need to parse some integers from strings. You use the <code>parseInt</code> method to convert the types. Can you guess what will be the result of this execution?</p>

<pre><code>var result = parseInt(&quot;8&quot;);
</code></pre>

<p>That&rsquo;s easy, it&rsquo;s gonna be <code>8</code>. But what if you want to parse a number that has an unnecessary zero at the beginning. Let&rsquo;s see this code:</p>

<pre><code>var result = parseInt(&quot;08&quot;);
</code></pre>

<p>Now here&rsquo;s where things get a little bit more tricky. The result of this is Not a Number global property <code>NaN</code>.</p>

<h2 id="why">Why?</h2>

<p>Why does it return <code>NaN</code>? 08 is clearly a number, with one unnecessary zero at the beginning. Is it a bug, or is it a feature? I had to know why this method has this behavior.</p>

<p>First thing I did is testing this with my Google Chrome debugger console. Executing this code in this environment gave me a result I was predicing from the beginning, it returned <code>8</code>. That was the first hint, it had to be related to the implementation of this method for the Mozilla Rhino JavaScript engine. Digging a little bit deeper I found the answer. The parseInt method has two parameters, <code>string</code> and <code>radix</code>, of which the second one is optional, and it&rsquo;s documentation states:</p>

<p>*radix - An integer between 2 and 36 that represents the radix (the base in mathematical numeral systems) of the above mentioned string. Specify 10 for the decimal numeral system commonly used by humans. <strong>Always specify this parameter</strong> to eliminate reader confusion and to guarantee predictable behavior. Different implementations produce different results when a radix is not specified, usually defaulting the value to 10.*</p>

<p>That was my &lsquo;bingo&rsquo; moment. Numbers that start with zero usually represent the octal system. I tried different numbers, all the digits from 0 to 9 with the additional zero before them, and only <code>08</code> and <code>09</code> did return <code>NaN</code>. It seems that I was right. This discovery allowed us to solve the bug in our code, and the following execution of the parseInt gives us result we were expecting:</p>

<pre><code>var result = parseInt(&quot;08&quot;, 10);
</code></pre>

<p>##Is there more?
Fixing this bug resulted in more questions that I had related to the <code>parseInt</code> method behavior. What will happen if I add more zeros to the number? Is <code>008</code> treaded same as <code>08</code>? I tried it:</p>

<pre><code>var result = parseInt(&quot;008&quot;);
</code></pre>

<p>The result is <code>0</code>. <strong>What?</strong></p>

<p>Alright, I know that <code>07</code> did work, because it&rsquo;s a real number in the octal system. So, what will happen if I run this code?</p>

<pre><code>var result = parseInt(&quot;007&quot;);
</code></pre>

<p>The result is <code>7</code>. Okay, so the conversion still works, and we can easily check if it&rsquo;s still the octal system. If we convert <code>10</code> from octal to decimal, it should return <code>8</code>. So let&rsquo;s try it with one, and two zeros before the actual number:</p>

<pre><code>var result = parseInt(&quot;010&quot;);
var other  = parseInt(&quot;0010&quot;);
</code></pre>

<p>Both of these results return <code>8</code>. So it&rsquo;s still converting from octal to decimal system. To be absolutely sure, I verified that parsing <code>&quot;008&quot;</code> with the second, radix argument of <code>8</code>. The result is again: <code>0</code>. Is the eight being omitted? Let&rsquo;s try parsing something different. Can you guess what is the result of:</p>

<pre><code>var result = parseInt(&quot;018&quot;);
</code></pre>

<p>It is <code>1</code>. Yes. <strong>One.</strong> The conversion from octal system, that has a character that does not belong to this system still returns the number, as if the foreign character wasn&rsquo;t even there.</p>

<p>So what happens if I put there a character that belong to other numeric system than the decimal, like <code>'a'</code>? Let&rsquo;s try that:</p>

<pre><code>var result = parseInt(&quot;01a&quot;);
</code></pre>

<p>Yup, still <code>1</code>. So if the character at the end is ommited, what about multiple characters in several places?</p>

<pre><code>var result = parseInt(&quot;0a1aa&quot;);
</code></pre>

<p>Result? <code>0</code>. Wait, we expected one! Does it skip all the rest of the string, if it encounters the first non-octal character? The result of:</p>

<pre><code>var result = parseInt(&quot;001818&quot;);
</code></pre>

<p>is <code>1</code>.</p>

<p>It looks like it does skip all the remaining characters in the string, once it encounters the first one that is a non-octal character.</p>

<h2 id="taking-it-a-step-further">Taking it a step further</h2>

<p>Alright, I wanted to take it to the next level. I can put hexadecimal characters in the string, and it stills return zero. What if I use more than just hexadecmal character? Let&rsquo;s try this:</p>

<pre><code>var result = parseInt(&quot;0This will return zero.&quot;);
</code></pre>

<p>The result is, as expected, <code>0</code>. It does make sense to return zero, since we acknowledged that it will skip the rest of the string once it encounters a character from non-octal character set. But let&rsquo;s go back to the beginning. I started this post with what will <code>parseInt(&quot;08&quot;)</code> return. Do you remember what was the answer? <code>NaN</code>. So</p>

<pre><code>&quot;0This will return a zero.&quot;
</code></pre>

<p>is a number, but</p>

<pre><code>&quot;08&quot;
</code></pre>

<p>is not. <strong>WHAT?</strong></p>

<h2 id="conclusion">Conclusion</h2>

<p>JavaScript is an interesting language indeed. It has some quirks, that vary depending on their implementation. But at the end it gives us one lesson; if we, the developers, want to write reliable code, we should not leave the optional parameter if it varies on different platforms, test our code and always have some doubt in the correctness of the methods, even if they are implemented by the engine the code is run on.</p>

      </section>

      <footer class="post-card-meta">
          <img class="author-profile-image" src="/images/jsynowiec.jpg"
            alt="Author" />
          <span class="post-card-author"><a href="//authors/jsynowiec">Jakub Synowiec</a></span>
      </footer>
    </div>
</article>
    </div>

    <nav class="pagination" role="navigation">
      
          <a class="older-posts" href="/servicenow-presence-api/">&larr; <span class="hide">Previous Post</span></a>
      
      <span class="page-number">&nbsp;</span>
      
          <a class="newer-posts" href="/the-last-carousel-widget-youll-ever-need/"><span class="hide">Next Post</span> &rarr;</a>
      
    </nav>

    
    
    

  </div>
</main>



<footer class="site-footer outer">
  <div class="site-footer-content inner">
    <section class="copyright" style="line-height: 1.3em;">
      <a href="/">JahnelGroup</a>  <br>
      
    </section>
    <nav class="site-footer-nav">
        <a href="/">Latest Posts</a>
        <a href="https://www.facebook.com/jahnelgroup" target="_blank" rel="noopener">Facebook</a>
        <a href="https://twitter.com/jahnelgroup" target="_blank" rel="noopener">Twitter</a>
        <a href="https://github.com/jahnelgroup" target="_blank" rel="noopener">Github</a>
        
        
    </nav>  
  </div>
</footer>

</div>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="/js/jquery.fitvids.js"></script>

<script>hljs.initHighlightingOnLoad();</script>


  <!-- Google Analytics -->
  <script>
    var _gaq=[['_setAccount','UA-91305857-2'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>



</body></html>
